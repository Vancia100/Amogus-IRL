
<div class = box>
    <h1>Amogos</h1>
</div>

<div class= buttonContainer>
    <form  method="get" id = usernameForm>
        <input type="text" class="button" id="nameInput" required minlength="3" maxlength="15" placeholder="Username">
    </form>
    
    <button class = "button" id="joinBtn" onclick="Load()">
    <h3 class="text1">
        Join
    </h3>
    </button>
    
    <a href="/host">
        <div class = "button">
            <h3 class="text1">
                host
            </h3>
        </div>
    </a>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const usernameInput = document.getElementById("usernameForm");
        usernameInput.addEventListener("submit", function (event) {
            event.preventDefault()
            Load()
        })
    
            const usernameField = document.getElementById("nameInput")
            usernameField.addEventListener("focus", () => {
            usernameField.style.borderColor = "#ffffff"
        })
            usernameField.addEventListener("blur", () => {
                const usernameValue = usernameField.value
                checkUsername(usernameValue, (username) => {
                usernameField.style.borderColor = "#ffffff"
                }) 
            })
    })
    function checkUsername(username, cb) {
        if ( !(username && username.length > 2)) {
            const usernameField = document.getElementById("nameInput")
            usernameField.style.borderColor = "#b53933"
            return
        }
        cb(username)
    }
    function Load() {
        var usernameInput = document.getElementById("nameInput").value
        checkUsername(usernameInput, (username) => {
            console.log(username.toUpperCase())
        })
    }
    </script>